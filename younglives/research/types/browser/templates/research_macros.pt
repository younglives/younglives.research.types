<div metal:define-macro="deadlines"
    style="float: right; border: 1px solid;">
    <dl>
        <dt>First Draft Deadline</dt>
        <dd tal:content="context/firstDraftDeadline|string:Not defined" />
        <dt>Second Draft Deadline</dt>
        <dd tal:content="context/secondDraftDeadline|string:Not defined" />
        <dt>Final Draft Deadline</dt>
        <dd tal:content="context/finalDraftDeadline|string:Not defined" />
    </dl>
</div>
<dl metal:define-macro="next-deadline"
    class="portalMessage warning">
    <dt tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;"
        tal:content="python:context.toLocalizedTime(context.getNextDeadline(),long_format=0)" />
    <dd tal:content="context/getLastComment" />
</dl>
<div metal:define-macro="related-outputs"
     tal:define="related_items context/getRelatedResearch|python:[]"
     tal:condition="related_items">
    <h3>Related outputs</h3>
    <ul>
        <li tal:repeat="related_item related_items">
            <a tal:attributes="href python:related_item.absolute_url()"
               tal:content="python:related_item.Title()" />
        </li>
    </ul>
</div>
