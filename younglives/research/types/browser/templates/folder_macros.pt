<div metal:define-macro="papers_by_state">
    <div tal:define="state_info python:view.getStateInfo(state)">
        <h2 tal:content="state_info/title" />
        <div class="formHelp"
            tal:content="state_info/description" />
    </div>
    <table class="research_table" tal:define="items python:view.getPapersByState(state)">
        <thead>
            <th>Ref</th>
            <th>Authors</th>
            <th>Title</th>
        </thead>
        <tbody>
            <tr tal:repeat="item items">
                <td tal:content="item/id" />
                <td tal:content="python:item.getObject().getAllAuthors(all=False)" />
                <td>
                    <a tal:attributes="href item/getURL"
                       tal:content="item/Title" />
                </td>
                <td tal:content="item/Description" />
            </tr>
        </tbody>
    </table>
</div>
<div metal:define-macro="table_view">
    <table class="research_table">
        <thead>
            <th class="cell_ref">Ref</th>
            <th class="cell_authors">Authors</th>
            <th class="cell_title">Title</th>
        </thead>
        <tbody>
            <tr tal:repeat="item outputs">
                <td class="table_ref" tal:content="item/id" />
                <td class="cell_authors" tal:content="python:item.getObject().getAllAuthors(all=False)" />
                <td class="cell_title">
                    <a tal:attributes="href item/getURL"
                       tal:content="python:context.shortenTitle(item.Title)" />
                </td>
            </tr>
        </tbody>
    </table>
</div>
